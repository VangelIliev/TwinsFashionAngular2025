2025-10-21 00:21:49.088 +03:00 [INF] User profile is available. Using 'C:\Users\Vange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-21 00:21:49.332 +03:00 [INF] Now listening on: https://localhost:7185
2025-10-21 00:21:49.334 +03:00 [INF] Now listening on: http://localhost:5286
2025-10-21 00:21:49.503 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-21 00:21:49.504 +03:00 [INF] Hosting environment: Development
2025-10-21 00:21:49.506 +03:00 [INF] Content root path: C:\Users\Vange\source\repos\New Projects 2025\TwinsFashionAngular\TwinsFashionApi
2025-10-21 00:21:50.692 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/index.html - null null
2025-10-21 00:21:50.958 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/index.html - 200 null text/html;charset=utf-8 275.3639ms
2025-10-21 00:21:51.016 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_vs/browserLink - null null
2025-10-21 00:21:51.016 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - null null
2025-10-21 00:21:51.033 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 17.7238ms
2025-10-21 00:21:51.076 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.9923ms
2025-10-21 00:21:51.127 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - null null
2025-10-21 00:21:51.156 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.8814ms
2025-10-21 00:22:21.400 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/all - null null
2025-10-21 00:22:21.412 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:22:21.432 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:22:21.471 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TwinsFashion.Domain.Models.ProductDto]]] GetAll() on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:22:22.951 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-21 00:22:23.605 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY [p].[Id], [c].[Id], [c0].[Id], [s].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-10-21 00:22:23.875 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/all - null null
2025-10-21 00:22:23.881 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:22:23.884 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:22:23.886 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TwinsFashion.Domain.Models.ProductDto]]] GetAll() on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:22:23.953 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+WhereEnumerableIterator`1[[TwinsFashion.Domain.Models.ProductDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-21 00:22:23.993 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi) in 2515.6835ms
2025-10-21 00:22:23.996 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:22:24.002 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY [p].[Id], [c].[Id], [c0].[Id], [s].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-10-21 00:22:24.008 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/all - 499 null application/json; charset=utf-8 2608.8765ms
2025-10-21 00:22:24.032 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+WhereEnumerableIterator`1[[TwinsFashion.Domain.Models.ProductDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-21 00:22:24.055 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi) in 166.0392ms
2025-10-21 00:22:24.058 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:22:24.061 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/all - 200 null application/json; charset=utf-8 186.0968ms
2025-10-21 00:22:27.793 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/all - null null
2025-10-21 00:22:27.797 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:22:27.801 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:22:27.803 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TwinsFashion.Domain.Models.ProductDto]]] GetAll() on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:22:27.812 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashion.Domain.Models.ProductDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-21 00:22:27.820 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi) in 14.7082ms
2025-10-21 00:22:27.823 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:22:27.825 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/all - 200 null application/json; charset=utf-8 32.9742ms
2025-10-21 00:23:06.733 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-10-21 00:23:06.742 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:23:06.760 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-10-21 00:23:06.765 +03:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-10-21 00:23:06.774 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-21 00:23:06.782 +03:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 13.9489ms
2025-10-21 00:23:06.784 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-10-21 00:23:06.787 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 54.2637ms
2025-10-21 00:23:06.867 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-10-21 00:23:06.872 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:23:06.874 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-10-21 00:23:06.876 +03:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-10-21 00:23:06.880 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-21 00:23:06.882 +03:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 3.2257ms
2025-10-21 00:23:06.884 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-10-21 00:23:06.886 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 19.6231ms
2025-10-21 00:23:06.890 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/categories - null null
2025-10-21 00:23:06.892 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/subcategories - null null
2025-10-21 00:23:06.891 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/colors - null null
2025-10-21 00:23:06.896 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/sizes - null null
2025-10-21 00:23:06.890 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - null null
2025-10-21 00:23:06.901 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:23:06.905 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:23:06.909 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:23:06.913 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:23:06.916 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:23:06.930 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-10-21 00:23:06.930 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-10-21 00:23:06.930 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-10-21 00:23:06.930 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-10-21 00:23:06.930 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-10-21 00:23:06.936 +03:00 [INF] Route matched with {action = "GetSubCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-10-21 00:23:06.937 +03:00 [INF] Route matched with {action = "GetDashboardProducts", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboardProducts() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-10-21 00:23:06.939 +03:00 [INF] Route matched with {action = "GetSizes", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSizes() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-10-21 00:23:06.942 +03:00 [INF] Route matched with {action = "GetColors", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetColors() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-10-21 00:23:06.943 +03:00 [INF] Route matched with {action = "GetCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-10-21 00:23:06.989 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY [p].[Id], [c].[Id], [c0].[Id], [s].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-10-21 00:23:07.038 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashionApi.Models.AdminProductViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-21 00:23:07.055 +03:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi) in 109.2366ms
2025-10-21 00:23:07.056 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Colors] AS [c]
2025-10-21 00:23:07.057 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
2025-10-21 00:23:07.058 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-10-21 00:23:07.063 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TwinsFashion.Data.Models.Color, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.ColorViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-21 00:23:07.066 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+WhereEnumerableIterator`1[[TwinsFashion.Domain.Models.SizeDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-21 00:23:07.066 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - 200 null application/json; charset=utf-8 176.3854ms
2025-10-21 00:23:07.071 +03:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi) in 118.8405ms
2025-10-21 00:23:07.071 +03:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi) in 122.6366ms
2025-10-21 00:23:07.076 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-10-21 00:23:07.078 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-10-21 00:23:07.080 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/colors - 200 null application/json; charset=utf-8 188.9312ms
2025-10-21 00:23:07.082 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/sizes - 200 null application/json; charset=utf-8 186.2937ms
2025-10-21 00:23:07.108 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CategoryId], [s].[Name], [c].[Id], [c].[Name]
FROM [SubCategories] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
2025-10-21 00:23:07.108 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-10-21 00:23:07.114 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TwinsFashion.Data.Models.Category, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.CategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-21 00:23:07.114 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TwinsFashion.Data.Models.SubCategory, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.SubCategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-21 00:23:07.119 +03:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi) in 164.0987ms
2025-10-21 00:23:07.121 +03:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi) in 177.966ms
2025-10-21 00:23:07.121 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-10-21 00:23:07.123 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-10-21 00:23:07.125 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/categories - 200 null application/json; charset=utf-8 235.0881ms
2025-10-21 00:23:07.126 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/subcategories - 200 null application/json; charset=utf-8 235.3561ms
2025-10-21 00:23:47.568 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/all - null null
2025-10-21 00:23:47.573 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:23:47.575 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:23:47.577 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TwinsFashion.Domain.Models.ProductDto]]] GetAll() on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:23:47.612 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY [p].[Id], [c].[Id], [c0].[Id], [s].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-10-21 00:23:47.635 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+WhereEnumerableIterator`1[[TwinsFashion.Domain.Models.ProductDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-21 00:23:47.647 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi) in 67.7594ms
2025-10-21 00:23:47.649 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:23:47.651 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/all - 200 null application/json; charset=utf-8 82.6232ms
2025-10-21 00:30:10.357 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/index.html - null null
2025-10-21 00:30:10.410 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/index.html - 200 null text/html;charset=utf-8 53.3782ms
2025-10-21 00:30:10.435 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - null null
2025-10-21 00:30:10.452 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_vs/browserLink - null null
2025-10-21 00:30:10.475 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 39.9489ms
2025-10-21 00:30:10.528 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_vs/browserLink - 200 null text/javascript; charset=UTF-8 76.2185ms
2025-10-21 00:30:10.565 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - null null
2025-10-21 00:30:10.615 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.7545ms
2025-10-21 00:30:12.694 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/all - null null
2025-10-21 00:30:12.699 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:30:12.700 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:30:12.706 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TwinsFashion.Domain.Models.ProductDto]]] GetAll() on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:30:12.764 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-21 00:30:12.919 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [c].[Name] = N'Якета' THEN 0
    ELSE 1
END, [c].[Name], [p].[Name], [p].[Id], [c].[Id], [c0].[Id], [s].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-10-21 00:30:12.942 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+WhereEnumerableIterator`1[[TwinsFashion.Domain.Models.ProductDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-21 00:30:12.956 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi) in 246.311ms
2025-10-21 00:30:12.958 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:30:12.960 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/all - 200 null application/json; charset=utf-8 266.1323ms
2025-10-21 00:30:26.067 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/all - null null
2025-10-21 00:30:26.072 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:30:26.073 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:30:26.074 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TwinsFashion.Domain.Models.ProductDto]]] GetAll() on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:30:26.078 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashion.Domain.Models.ProductDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-21 00:30:26.083 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi) in 6.129ms
2025-10-21 00:30:26.085 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:30:26.087 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/all - 200 null application/json; charset=utf-8 20.7818ms
2025-10-21 00:30:27.854 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/all - null null
2025-10-21 00:30:27.859 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:30:27.860 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:30:27.862 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TwinsFashion.Domain.Models.ProductDto]]] GetAll() on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:30:27.866 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashion.Domain.Models.ProductDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-21 00:30:27.872 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi) in 6.7625ms
2025-10-21 00:30:27.874 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:30:27.876 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/all - 200 null application/json; charset=utf-8 21.9911ms
2025-10-21 00:30:55.862 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/all - null null
2025-10-21 00:30:55.866 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:30:55.867 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:30:55.869 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TwinsFashion.Domain.Models.ProductDto]]] GetAll() on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:30:55.873 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashion.Domain.Models.ProductDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-21 00:30:55.883 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi) in 10.7985ms
2025-10-21 00:30:55.887 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:30:55.889 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/all - 200 null application/json; charset=utf-8 26.9719ms
2025-10-21 00:32:44.316 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/index.html - null null
2025-10-21 00:32:44.328 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/index.html - 200 null text/html;charset=utf-8 11.7921ms
2025-10-21 00:32:44.369 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/swagger-ui.css - null null
2025-10-21 00:32:44.370 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_vs/browserLink - null null
2025-10-21 00:32:44.369 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/swagger-ui-bundle.js - null null
2025-10-21 00:32:44.371 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - null null
2025-10-21 00:32:44.370 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/swagger-ui-standalone-preset.js - null null
2025-10-21 00:32:44.410 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 39.7135ms
2025-10-21 00:32:44.426 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.4382ms
2025-10-21 00:32:44.426 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-10-21 00:32:44.426 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-10-21 00:32:44.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/swagger-ui.css - 200 152034 text/css 68.4288ms
2025-10-21 00:32:44.439 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-10-21 00:32:44.440 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 69.8294ms
2025-10-21 00:32:44.445 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 75.9361ms
2025-10-21 00:32:44.525 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - null null
2025-10-21 00:32:44.534 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/favicon-32x32.png - null null
2025-10-21 00:32:44.537 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-10-21 00:32:44.539 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/favicon-32x32.png - 200 628 image/png 5.2075ms
2025-10-21 00:32:44.541 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.6349ms
2025-10-21 00:32:48.041 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/all - null null
2025-10-21 00:32:48.045 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:32:48.047 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:32:48.052 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TwinsFashion.Domain.Models.ProductDto]]] GetAll() on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:32:48.073 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-21 00:32:48.139 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [s].[Name] = N'Якета' THEN 0
    ELSE 1
END, [s].[Name], [p].[Name], [p].[Id], [s].[Id], [c].[Id], [c0].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-10-21 00:32:48.153 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+WhereEnumerableIterator`1[[TwinsFashion.Domain.Models.ProductDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-21 00:32:48.162 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi) in 106.9592ms
2025-10-21 00:32:48.163 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:32:48.165 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/all - 200 null application/json; charset=utf-8 125.0486ms
2025-10-21 00:33:51.359 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/1503e8cf-45f6-42b8-8599-4c2fa453ac31 - null null
2025-10-21 00:33:51.364 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:33:51.365 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi)'
2025-10-21 00:33:51.378 +03:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TwinsFashion.Domain.Models.ProductDto]] GetById(System.Guid) on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:34:07.260 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-21 00:34:07.346 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CategoryId], [s0].[ColorId], [s0].[Description], [s0].[Name], [s0].[Price], [s0].[Quantity], [s0].[SubCategoryId], [s0].[Id0], [s0].[Name0], [s0].[Id1], [s0].[Name1], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name]
FROM (
    SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id] AS [Id0], [c].[Name] AS [Name0], [c0].[Id] AS [Id1], [c0].[Name] AS [Name1]
    FROM [Products] AS [p]
    INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
    INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
    WHERE [p].[Id] = @__id_0
) AS [s0]
LEFT JOIN [Images] AS [i] ON [s0].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s].[Id], [s].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[Id]
) AS [s1] ON [s0].[Id] = [s1].[ProductId]
ORDER BY [s0].[Id], [s0].[Id0], [s0].[Id1], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-10-21 00:39:24.070 +03:00 [INF] Executing OkObjectResult, writing value of type 'TwinsFashion.Domain.Models.ProductDto'.
2025-10-21 00:39:24.079 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi) in 332698.5754ms
2025-10-21 00:39:24.086 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/1503e8cf-45f6-42b8-8599-4c2fa453ac31 - null null
2025-10-21 00:39:24.086 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi)'
2025-10-21 00:39:24.087 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/all - null null
2025-10-21 00:39:24.094 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:39:24.095 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/1503e8cf-45f6-42b8-8599-4c2fa453ac31 - 200 null application/json; charset=utf-8 332736.7809ms
2025-10-21 00:39:24.099 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:39:24.101 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi)'
2025-10-21 00:39:24.107 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:39:24.108 +03:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TwinsFashion.Domain.Models.ProductDto]] GetById(System.Guid) on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:39:24.110 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TwinsFashion.Domain.Models.ProductDto]]] GetAll() on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:39:29.584 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CategoryId], [s0].[ColorId], [s0].[Description], [s0].[Name], [s0].[Price], [s0].[Quantity], [s0].[SubCategoryId], [s0].[Id0], [s0].[Name0], [s0].[Id1], [s0].[Name1], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name]
FROM (
    SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id] AS [Id0], [c].[Name] AS [Name0], [c0].[Id] AS [Id1], [c0].[Name] AS [Name1]
    FROM [Products] AS [p]
    INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
    INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
    WHERE [p].[Id] = @__id_0
) AS [s0]
LEFT JOIN [Images] AS [i] ON [s0].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s].[Id], [s].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[Id]
) AS [s1] ON [s0].[Id] = [s1].[ProductId]
ORDER BY [s0].[Id], [s0].[Id0], [s0].[Id1], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-10-21 00:40:29.874 +03:00 [INF] Executing OkObjectResult, writing value of type 'TwinsFashion.Domain.Models.ProductDto'.
2025-10-21 00:40:29.886 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi) in 65774.1375ms
2025-10-21 00:40:29.892 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi)'
2025-10-21 00:40:29.896 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/1503e8cf-45f6-42b8-8599-4c2fa453ac31 - 200 null application/json; charset=utf-8 65810.5345ms
2025-10-21 00:40:29.909 +03:00 [ERR] An error occurred using the connection to database 'venonom1_twinsfashion' on server 'mssql2012.asphostbg.net,14330'.
2025-10-21 00:40:29.938 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'TwinsFashion.Data.Models.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=60296; handshake=11; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:620c7df8-1fc4-413b-9dd9-a1ad1e2387dd
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=60296; handshake=11; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:620c7df8-1fc4-413b-9dd9-a1ad1e2387dd
Error Number:-2,State:0,Class:11
2025-10-21 00:40:29.988 +03:00 [ERR] Error occurred while retrieving products.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=60296; handshake=11; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at TwinsFashion.Domain.Implementation.ProductService.GetAllProductsAsync()
ClientConnectionId:620c7df8-1fc4-413b-9dd9-a1ad1e2387dd
Error Number:-2,State:0,Class:11
2025-10-21 00:40:30.051 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi) in 60482.34ms
2025-10-21 00:40:30.054 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:40:30.058 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed while attempting to consume the pre-login handshake acknowledgement.  This could be because the pre-login handshake failed or the server was unable to respond back in time.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=60296; handshake=11; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at TwinsFashion.Domain.Implementation.ProductService.GetAllProductsAsync()
   at TwinsFashionApi.Controllers.ProductsController.GetAll() in C:\Users\Vange\source\repos\New Projects 2025\TwinsFashionAngular\TwinsFashionApi\Controllers\ProductsController.cs:line 33
   at lambda_method555(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:620c7df8-1fc4-413b-9dd9-a1ad1e2387dd
Error Number:-2,State:0,Class:11
2025-10-21 00:40:30.109 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/all - 500 null text/plain; charset=utf-8 66021.5223ms
2025-10-21 00:41:10.874 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/1503e8cf-45f6-42b8-8599-4c2fa453ac31 - null null
2025-10-21 00:41:10.882 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:41:10.884 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi)'
2025-10-21 00:41:10.886 +03:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TwinsFashion.Domain.Models.ProductDto]] GetById(System.Guid) on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:41:13.252 +03:00 [INF] Executing OkObjectResult, writing value of type 'TwinsFashion.Domain.Models.ProductDto'.
2025-10-21 00:41:13.259 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi) in 2370.6961ms
2025-10-21 00:41:13.261 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi)'
2025-10-21 00:41:13.263 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/1503e8cf-45f6-42b8-8599-4c2fa453ac31 - 200 null application/json; charset=utf-8 2389.2257ms
2025-10-21 00:41:55.449 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/1503e8cf-45f6-42b8-8599-4c2fa453ac31 - null null
2025-10-21 00:41:55.463 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:41:55.465 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi)'
2025-10-21 00:41:55.466 +03:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TwinsFashion.Domain.Models.ProductDto]] GetById(System.Guid) on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:41:55.470 +03:00 [INF] Executing OkObjectResult, writing value of type 'TwinsFashion.Domain.Models.ProductDto'.
2025-10-21 00:41:55.472 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi) in 3.0645ms
2025-10-21 00:41:55.475 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi)'
2025-10-21 00:41:55.478 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/1503e8cf-45f6-42b8-8599-4c2fa453ac31 - 200 null application/json; charset=utf-8 28.7807ms
2025-10-21 00:43:03.764 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/all - null null
2025-10-21 00:43:03.772 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:43:03.773 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:43:03.774 +03:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TwinsFashion.Domain.Models.ProductDto]]] GetAll() on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:43:03.799 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [s].[Name] = N'Якета' THEN 0
    ELSE 1
END, [s].[Name], [p].[Name], [p].[Id], [s].[Id], [c].[Id], [c0].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-10-21 00:43:03.812 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+WhereEnumerableIterator`1[[TwinsFashion.Domain.Models.ProductDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-21 00:43:03.816 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi) in 40.1129ms
2025-10-21 00:43:03.818 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-10-21 00:43:03.820 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/all - 200 null application/json; charset=utf-8 56.5413ms
2025-10-21 00:43:11.359 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/92014245-accc-412b-a91b-56cf2c5432ad - null null
2025-10-21 00:43:11.375 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:43:11.376 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi)'
2025-10-21 00:43:11.377 +03:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TwinsFashion.Domain.Models.ProductDto]] GetById(System.Guid) on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:43:14.191 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [s0].[Id], [s0].[CategoryId], [s0].[ColorId], [s0].[Description], [s0].[Name], [s0].[Price], [s0].[Quantity], [s0].[SubCategoryId], [s0].[Id0], [s0].[Name0], [s0].[Id1], [s0].[Name1], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name]
FROM (
    SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id] AS [Id0], [c].[Name] AS [Name0], [c0].[Id] AS [Id1], [c0].[Name] AS [Name1]
    FROM [Products] AS [p]
    INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
    INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
    WHERE [p].[Id] = @__id_0
) AS [s0]
LEFT JOIN [Images] AS [i] ON [s0].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s].[Id], [s].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[Id]
) AS [s1] ON [s0].[Id] = [s1].[ProductId]
ORDER BY [s0].[Id], [s0].[Id0], [s0].[Id1], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-10-21 00:43:14.196 +03:00 [INF] Executing OkObjectResult, writing value of type 'TwinsFashion.Domain.Models.ProductDto'.
2025-10-21 00:43:14.199 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi) in 2818.0886ms
2025-10-21 00:43:14.201 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi)'
2025-10-21 00:43:14.203 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/92014245-accc-412b-a91b-56cf2c5432ad - 200 null application/json; charset=utf-8 2844.044ms
2025-10-21 00:43:22.249 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/92014245-accc-412b-a91b-56cf2c5432ad - null null
2025-10-21 00:43:22.259 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:43:22.261 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi)'
2025-10-21 00:43:22.262 +03:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TwinsFashion.Domain.Models.ProductDto]] GetById(System.Guid) on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:43:22.265 +03:00 [INF] Executing OkObjectResult, writing value of type 'TwinsFashion.Domain.Models.ProductDto'.
2025-10-21 00:43:22.267 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi) in 2.5497ms
2025-10-21 00:43:22.269 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi)'
2025-10-21 00:43:22.271 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/92014245-accc-412b-a91b-56cf2c5432ad - 200 null application/json; charset=utf-8 22.6711ms
2025-10-21 00:44:02.236 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/92014245-accc-412b-a91b-56cf2c5432ad - null null
2025-10-21 00:44:02.246 +03:00 [INF] CORS policy execution successful.
2025-10-21 00:44:02.248 +03:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi)'
2025-10-21 00:44:02.250 +03:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TwinsFashion.Domain.Models.ProductDto]] GetById(System.Guid) on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-10-21 00:44:02.253 +03:00 [INF] Executing OkObjectResult, writing value of type 'TwinsFashion.Domain.Models.ProductDto'.
2025-10-21 00:44:02.256 +03:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi) in 4.0108ms
2025-10-21 00:44:02.258 +03:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetById (TwinsFashionApi)'
2025-10-21 00:44:02.261 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/92014245-accc-412b-a91b-56cf2c5432ad - 200 null application/json; charset=utf-8 24.9855ms

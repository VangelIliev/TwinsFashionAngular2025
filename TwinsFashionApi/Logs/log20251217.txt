2025-12-17 16:13:19.616 +02:00 [INF] User profile is available. Using 'C:\Users\Vange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-17 16:13:19.952 +02:00 [INF] Now listening on: https://localhost:7185
2025-12-17 16:13:19.953 +02:00 [INF] Now listening on: http://localhost:5286
2025-12-17 16:13:20.006 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-17 16:13:20.007 +02:00 [INF] Hosting environment: Development
2025-12-17 16:13:20.009 +02:00 [INF] Content root path: C:\Users\Vange\source\repos\New Projects 2025\TwinsFashionAngular\TwinsFashionApi
2025-12-17 16:13:20.927 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger - null null
2025-12-17 16:13:21.213 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger - 301 0 null 292.8814ms
2025-12-17 16:13:21.219 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/index.html - null null
2025-12-17 16:13:21.319 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/index.html - 200 null text/html;charset=utf-8 99.5865ms
2025-12-17 16:13:21.358 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/swagger-ui.css - null null
2025-12-17 16:13:21.359 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/swagger-ui-bundle.js - null null
2025-12-17 16:13:21.359 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/swagger-ui-standalone-preset.js - null null
2025-12-17 16:13:21.359 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - null null
2025-12-17 16:13:21.359 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_vs/browserLink - null null
2025-12-17 16:13:21.419 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-12-17 16:13:21.419 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-12-17 16:13:21.419 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 60.6365ms
2025-12-17 16:13:21.425 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 66.6478ms
2025-12-17 16:13:21.433 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/swagger-ui.css - 200 152034 text/css 74.7446ms
2025-12-17 16:13:21.456 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-12-17 16:13:21.461 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 102.6511ms
2025-12-17 16:13:21.492 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_vs/browserLink - 200 null text/javascript; charset=UTF-8 133.6286ms
2025-12-17 16:13:21.676 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - null null
2025-12-17 16:13:21.724 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 47.9728ms
2025-12-17 16:13:21.775 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/favicon-32x32.png - null null
2025-12-17 16:13:21.781 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-12-17 16:13:21.785 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/favicon-32x32.png - 200 628 image/png 10.4841ms
2025-12-17 16:14:44.098 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-12-17 16:14:44.123 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:14:44.190 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 16:14:44.221 +02:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:14:44.544 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 16:14:44.558 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 328.3701ms
2025-12-17 16:14:44.560 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 16:14:44.565 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 466.6536ms
2025-12-17 16:14:54.806 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7185/api/admin/login - null null
2025-12-17 16:14:54.813 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:14:54.816 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7185/api/admin/login - 204 null null 10.2103ms
2025-12-17 16:14:54.820 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7185/api/admin/login - application/json 46
2025-12-17 16:14:54.832 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:14:54.835 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.LogIn (TwinsFashionApi)'
2025-12-17 16:14:54.851 +02:00 [INF] Route matched with {action = "LogIn", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(TwinsFashionApi.Models.AdminLoginRequest) on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:14:57.602 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__username_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[PasswordHash], [a].[PasswordSalt], [a].[Username]
FROM [AdminUsers] AS [a]
WHERE [a].[Username] = @__username_0
2025-12-17 16:14:57.730 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 16:14:57.735 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.LogIn (TwinsFashionApi) in 2879.4924ms
2025-12-17 16:14:57.738 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.LogIn (TwinsFashionApi)'
2025-12-17 16:14:57.747 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7185/api/admin/login - 400 null application/json; charset=utf-8 2927.5667ms
2025-12-17 16:15:29.127 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7185/api/admin/login - null null
2025-12-17 16:15:29.132 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:15:29.134 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7185/api/admin/login - 204 null null 7.3482ms
2025-12-17 16:15:29.137 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7185/api/admin/login - application/json 46
2025-12-17 16:15:29.173 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:15:29.179 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.LogIn (TwinsFashionApi)'
2025-12-17 16:15:29.182 +02:00 [INF] Route matched with {action = "LogIn", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(TwinsFashionApi.Models.AdminLoginRequest) on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:15:29.338 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__username_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[PasswordHash], [a].[PasswordSalt], [a].[Username]
FROM [AdminUsers] AS [a]
WHERE [a].[Username] = @__username_0
2025-12-17 16:15:29.389 +02:00 [INF] AuthenticationScheme: Cookies signed in.
2025-12-17 16:15:29.392 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 16:15:29.395 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.LogIn (TwinsFashionApi) in 210.1796ms
2025-12-17 16:15:29.399 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.LogIn (TwinsFashionApi)'
2025-12-17 16:15:29.401 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7185/api/admin/login - 200 null application/json; charset=utf-8 264.6221ms
2025-12-17 16:15:29.420 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-12-17 16:15:29.427 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:15:29.473 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 16:15:29.476 +02:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:15:29.484 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 16:15:29.489 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 8.8008ms
2025-12-17 16:15:29.492 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 16:15:29.496 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 75.5631ms
2025-12-17 16:15:29.506 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - null null
2025-12-17 16:15:29.508 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/colors - null null
2025-12-17 16:15:29.507 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/categories - null null
2025-12-17 16:15:29.507 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/subcategories - null null
2025-12-17 16:15:29.515 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/sizes - null null
2025-12-17 16:15:29.519 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:15:29.524 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:15:29.528 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:15:29.532 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:15:29.537 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:15:29.557 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 16:15:29.557 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 16:15:29.557 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 16:15:29.557 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 16:15:29.557 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 16:15:29.566 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:15:29.568 +02:00 [INF] Route matched with {action = "GetSubCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:15:29.569 +02:00 [INF] Route matched with {action = "GetSizes", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSizes() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:15:29.571 +02:00 [INF] Route matched with {action = "GetDashboardProducts", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboardProducts() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:15:29.574 +02:00 [INF] Route matched with {action = "GetColors", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetColors() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:15:29.666 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
2025-12-17 16:15:29.696 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+IEnumerableWhereIterator`1[[TwinsFashion.Domain.Models.SizeDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:15:29.726 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-12-17 16:15:29.726 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Colors] AS [c]
2025-12-17 16:15:29.746 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Color, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.ColorViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:15:29.746 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Category, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.CategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:15:29.755 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi) in 166.7038ms
2025-12-17 16:15:29.755 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi) in 181.0681ms
2025-12-17 16:15:29.765 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 16:15:29.767 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 16:15:29.769 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/colors - 200 null application/json; charset=utf-8 261.5136ms
2025-12-17 16:15:29.773 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/categories - 200 null application/json; charset=utf-8 265.1227ms
2025-12-17 16:15:29.804 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CategoryId], [s].[Name], [c].[Id], [c].[Name]
FROM [SubCategories] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
2025-12-17 16:15:29.858 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-17 16:15:29.877 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.SubCategory, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.SubCategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:15:29.885 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi) in 307.7088ms
2025-12-17 16:15:29.889 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 16:15:29.891 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/subcategories - 200 null application/json; charset=utf-8 384.057ms
2025-12-17 16:15:29.948 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [s].[Name] = N'Кожени якета' THEN 0
    ELSE 1
END, [s].[Name], [p].[Name], [p].[Id], [s].[Id], [c].[Id], [c0].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-12-17 16:15:30.093 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi) in 511.5876ms
2025-12-17 16:15:30.097 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 16:15:30.100 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/sizes - 200 null application/json; charset=utf-8 584.3759ms
2025-12-17 16:15:30.111 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashionApi.Models.AdminProductViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:15:30.146 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi) in 561.3859ms
2025-12-17 16:15:30.150 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 16:15:30.152 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - 200 null application/json; charset=utf-8 646.2241ms
2025-12-17 16:17:05.731 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7185/api/admin/upload-images - multipart/form-data; boundary=----WebKitFormBoundaryMBpUTUk2tLcAmvaE 456281
2025-12-17 16:17:05.748 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:17:05.752 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi)'
2025-12-17 16:17:05.759 +02:00 [INF] Route matched with {action = "UploadImages", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImages(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:18:11.957 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 16:18:11.961 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi) in 66198.2949ms
2025-12-17 16:18:11.964 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi)'
2025-12-17 16:18:11.968 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7185/api/admin/upload-images - 200 null application/json; charset=utf-8 66236.9506ms
2025-12-17 16:18:11.971 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7185/api/admin/products - null null
2025-12-17 16:18:11.978 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:18:11.980 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7185/api/admin/products - 204 null null 8.8026ms
2025-12-17 16:18:11.982 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7185/api/admin/products - application/json 818
2025-12-17 16:18:11.989 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:18:11.991 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi)'
2025-12-17 16:18:11.997 +02:00 [INF] Route matched with {action = "AddProduct", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddProduct(TwinsFashionApi.Models.AdminAddProductRequest) on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:18:12.064 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__categoryId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__categoryId_0
2025-12-17 16:18:12.092 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__colorId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Colors] AS [c]
WHERE [c].[Id] = @__colorId_0
2025-12-17 16:18:12.118 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__subCategoryId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CategoryId], [s].[Name]
FROM [SubCategories] AS [s]
WHERE [s].[Id] = @__subCategoryId_0
2025-12-17 16:18:12.169 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
WHERE [s].[Id] IN ('b7dc5e44-3d7d-465a-9970-11cf0da55229', '4df8209c-2c96-4ae2-ba36-3dea31322a70', '727e1901-8d5e-492c-a43c-4109fd258865', '70226002-cdc6-4879-bb17-900af064f15c')
2025-12-17 16:18:12.494 +02:00 [ERR] Failed executing DbCommand (58ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 200), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (Size = 4000), @p12='?' (DbType = Guid), @p13='?' (DbType = Boolean), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (DbType = Guid), @p23='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([Id], [CategoryId], [ColorId], [Description], [Name], [Price], [Quantity], [SubCategoryId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INSERT INTO [Images] ([Id], [IsCover], [ProductId], [Url])
VALUES (@p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15);
INSERT INTO [ProductSize] ([ProductId], [SizeId])
VALUES (@p16, @p17),
(@p18, @p19),
(@p20, @p21),
(@p22, @p23);
2025-12-17 16:18:12.551 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TwinsFashion.Data.Models.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Images_Products_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ProductSize_Product_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6b098b32-5a5a-4a79-9784-b4940f175ffa
Error Number:8152,State:13,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Images_Products_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ProductSize_Product_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6b098b32-5a5a-4a79-9784-b4940f175ffa
Error Number:8152,State:13,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-17 16:18:12.682 +02:00 [ERR] Error occurred while adding product to database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Images_Products_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ProductSize_Product_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6b098b32-5a5a-4a79-9784-b4940f175ffa
Error Number:8152,State:13,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TwinsFashion.Domain.Implementation.ProductService.AddProductInDatabase(String name, String description, Int32 price, Int32 quantity, Guid categoryId, Guid subCategoryId, Guid colorId, IEnumerable`1 imageUrls, IEnumerable`1 sizeIds) in C:\Users\Vange\source\repos\New Projects 2025\TwinsFashionAngular\TwinsFashion.Domain\Implementation\ProductService.cs:line 374
2025-12-17 16:18:12.745 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 16:18:12.748 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi) in 746.9858ms
2025-12-17 16:18:12.750 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi)'
2025-12-17 16:18:12.752 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7185/api/admin/products - 400 null application/json; charset=utf-8 769.4041ms
2025-12-17 16:18:32.758 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7185/api/admin/upload-images - multipart/form-data; boundary=----WebKitFormBoundaryDGHawnluNVWVWrcp 456281
2025-12-17 16:18:32.766 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:18:32.768 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi)'
2025-12-17 16:18:32.770 +02:00 [INF] Route matched with {action = "UploadImages", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImages(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:18:36.737 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 16:18:36.773 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi) in 4000.3363ms
2025-12-17 16:18:36.779 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi)'
2025-12-17 16:18:36.782 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7185/api/admin/upload-images - 200 null application/json; charset=utf-8 4023.8706ms
2025-12-17 16:18:36.792 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7185/api/admin/products - null null
2025-12-17 16:18:36.804 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:18:36.807 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7185/api/admin/products - 204 null null 15.0718ms
2025-12-17 16:18:36.811 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7185/api/admin/products - application/json 818
2025-12-17 16:18:36.819 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:18:36.822 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi)'
2025-12-17 16:18:36.824 +02:00 [INF] Route matched with {action = "AddProduct", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddProduct(TwinsFashionApi.Models.AdminAddProductRequest) on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:18:36.850 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__categoryId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__categoryId_0
2025-12-17 16:18:36.879 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__colorId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Colors] AS [c]
WHERE [c].[Id] = @__colorId_0
2025-12-17 16:18:36.904 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__subCategoryId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CategoryId], [s].[Name]
FROM [SubCategories] AS [s]
WHERE [s].[Id] = @__subCategoryId_0
2025-12-17 16:18:36.929 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
WHERE [s].[Id] IN ('b7dc5e44-3d7d-465a-9970-11cf0da55229', '4df8209c-2c96-4ae2-ba36-3dea31322a70', '727e1901-8d5e-492c-a43c-4109fd258865', '70226002-cdc6-4879-bb17-900af064f15c')
2025-12-17 16:18:36.984 +02:00 [ERR] Failed executing DbCommand (29ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 200), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (Size = 4000), @p12='?' (DbType = Guid), @p13='?' (DbType = Boolean), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (DbType = Guid), @p23='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([Id], [CategoryId], [ColorId], [Description], [Name], [Price], [Quantity], [SubCategoryId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INSERT INTO [Images] ([Id], [IsCover], [ProductId], [Url])
VALUES (@p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15);
INSERT INTO [ProductSize] ([ProductId], [SizeId])
VALUES (@p16, @p17),
(@p18, @p19),
(@p20, @p21),
(@p22, @p23);
2025-12-17 16:18:37.016 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TwinsFashion.Data.Models.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Images_Products_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ProductSize_Product_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6b098b32-5a5a-4a79-9784-b4940f175ffa
Error Number:8152,State:13,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Images_Products_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ProductSize_Product_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6b098b32-5a5a-4a79-9784-b4940f175ffa
Error Number:8152,State:13,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-17 16:18:37.125 +02:00 [ERR] Error occurred while adding product to database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Images_Products_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ProductSize_Product_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6b098b32-5a5a-4a79-9784-b4940f175ffa
Error Number:8152,State:13,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TwinsFashion.Domain.Implementation.ProductService.AddProductInDatabase(String name, String description, Int32 price, Int32 quantity, Guid categoryId, Guid subCategoryId, Guid colorId, IEnumerable`1 imageUrls, IEnumerable`1 sizeIds) in C:\Users\Vange\source\repos\New Projects 2025\TwinsFashionAngular\TwinsFashion.Domain\Implementation\ProductService.cs:line 374
2025-12-17 16:18:37.140 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 16:18:37.144 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi) in 317.8708ms
2025-12-17 16:18:37.147 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi)'
2025-12-17 16:18:37.150 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7185/api/admin/products - 400 null application/json; charset=utf-8 339.0135ms
2025-12-17 16:19:11.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-12-17 16:19:11.872 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:19:11.875 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 16:19:11.877 +02:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:19:11.882 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 16:19:11.887 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 5.5554ms
2025-12-17 16:19:11.892 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 16:19:11.898 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 36.0257ms
2025-12-17 16:19:11.906 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - null null
2025-12-17 16:19:11.945 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/categories - null null
2025-12-17 16:19:11.953 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/colors - null null
2025-12-17 16:19:11.946 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/subcategories - null null
2025-12-17 16:19:11.960 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/sizes - null null
2025-12-17 16:19:11.964 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:19:11.969 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:19:11.974 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:19:11.979 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:19:11.983 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:19:11.985 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 16:19:11.986 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 16:19:11.988 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 16:19:11.990 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 16:19:11.992 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 16:19:11.994 +02:00 [INF] Route matched with {action = "GetDashboardProducts", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboardProducts() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:19:11.996 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:19:11.998 +02:00 [INF] Route matched with {action = "GetColors", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetColors() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:19:12.000 +02:00 [INF] Route matched with {action = "GetSubCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:19:12.002 +02:00 [INF] Route matched with {action = "GetSizes", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSizes() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:19:12.021 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-12-17 16:19:12.029 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Category, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.CategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:19:12.032 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi) in 23.2661ms
2025-12-17 16:19:12.032 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [s].[Name] = N'Кожени якета' THEN 0
    ELSE 1
END, [s].[Name], [p].[Name], [p].[Id], [s].[Id], [c].[Id], [c0].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-12-17 16:19:12.035 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 16:19:12.042 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/categories - 200 null application/json; charset=utf-8 97.4944ms
2025-12-17 16:19:12.055 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashionApi.Models.AdminProductViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:19:12.059 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi) in 53.59ms
2025-12-17 16:19:12.062 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 16:19:12.064 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - 200 null application/json; charset=utf-8 157.9221ms
2025-12-17 16:19:12.088 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
2025-12-17 16:19:12.089 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Colors] AS [c]
2025-12-17 16:19:12.089 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CategoryId], [s].[Name], [c].[Id], [c].[Name]
FROM [SubCategories] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
2025-12-17 16:19:12.096 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+IEnumerableWhereIterator`1[[TwinsFashion.Domain.Models.SizeDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:19:12.100 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Color, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.ColorViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:19:12.106 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.SubCategory, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.SubCategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:19:12.109 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi) in 84.6841ms
2025-12-17 16:19:12.112 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi) in 99.5324ms
2025-12-17 16:19:12.115 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi) in 95.1713ms
2025-12-17 16:19:12.117 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 16:19:12.120 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 16:19:12.123 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 16:19:12.126 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/sizes - 200 null application/json; charset=utf-8 166.2606ms
2025-12-17 16:19:12.129 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/colors - 200 null application/json; charset=utf-8 176.0701ms
2025-12-17 16:19:12.132 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/subcategories - 200 null application/json; charset=utf-8 186.5575ms
2025-12-17 16:26:39.932 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-12-17 16:26:39.937 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:26:39.939 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 16:26:39.941 +02:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:26:39.945 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 16:26:39.947 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 3.2853ms
2025-12-17 16:26:39.949 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 16:26:39.952 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 19.3751ms
2025-12-17 16:26:39.959 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - null null
2025-12-17 16:26:39.960 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/categories - null null
2025-12-17 16:26:39.996 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:26:39.994 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/subcategories - null null
2025-12-17 16:26:39.997 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/colors - null null
2025-12-17 16:26:40.035 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/sizes - null null
2025-12-17 16:26:40.038 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:26:40.039 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 16:26:40.042 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:26:40.044 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:26:40.048 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:26:40.049 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 16:26:40.050 +02:00 [INF] Route matched with {action = "GetDashboardProducts", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboardProducts() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:26:40.051 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 16:26:40.052 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 16:26:40.057 +02:00 [INF] Route matched with {action = "GetSubCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:26:40.054 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:26:40.059 +02:00 [INF] Route matched with {action = "GetColors", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetColors() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:26:40.053 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 16:26:40.071 +02:00 [INF] Route matched with {action = "GetSizes", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSizes() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:26:40.140 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [s].[Name] = N'Кожени якета' THEN 0
    ELSE 1
END, [s].[Name], [p].[Name], [p].[Id], [s].[Id], [c].[Id], [c0].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-12-17 16:26:40.168 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashionApi.Models.AdminProductViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:26:40.170 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi) in 113.7757ms
2025-12-17 16:26:40.172 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 16:26:40.174 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - 200 null application/json; charset=utf-8 215.2416ms
2025-12-17 16:26:40.186 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-12-17 16:26:40.186 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CategoryId], [s].[Name], [c].[Id], [c].[Name]
FROM [SubCategories] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
2025-12-17 16:26:40.190 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Category, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.CategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:26:40.194 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.SubCategory, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.SubCategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:26:40.195 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi) in 128.2517ms
2025-12-17 16:26:40.197 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi) in 133.0522ms
2025-12-17 16:26:40.199 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 16:26:40.202 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 16:26:40.204 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/categories - 200 null application/json; charset=utf-8 243.998ms
2025-12-17 16:26:40.206 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/subcategories - 200 null application/json; charset=utf-8 212.3434ms
2025-12-17 16:26:40.240 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Colors] AS [c]
2025-12-17 16:26:40.243 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
2025-12-17 16:26:40.245 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Color, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.ColorViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:26:40.248 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+IEnumerableWhereIterator`1[[TwinsFashion.Domain.Models.SizeDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:26:40.249 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi) in 180.1075ms
2025-12-17 16:26:40.252 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi) in 178.3808ms
2025-12-17 16:26:40.253 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 16:26:40.255 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 16:26:40.257 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/colors - 200 null application/json; charset=utf-8 259.7233ms
2025-12-17 16:26:40.258 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/sizes - 200 null application/json; charset=utf-8 254.1326ms
2025-12-17 16:37:37.958 +02:00 [INF] User profile is available. Using 'C:\Users\Vange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-17 16:37:38.350 +02:00 [INF] Now listening on: https://localhost:7185
2025-12-17 16:37:38.352 +02:00 [INF] Now listening on: http://localhost:5286
2025-12-17 16:37:38.588 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-17 16:37:38.596 +02:00 [INF] Hosting environment: Development
2025-12-17 16:37:38.598 +02:00 [INF] Content root path: C:\Users\Vange\source\repos\New Projects 2025\TwinsFashionAngular\TwinsFashionApi
2025-12-17 16:37:38.905 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/index.html - null null
2025-12-17 16:37:39.170 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/index.html - 200 null text/html;charset=utf-8 274.0987ms
2025-12-17 16:37:39.207 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_vs/browserLink - null null
2025-12-17 16:37:39.207 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - null null
2025-12-17 16:37:39.298 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 90.7126ms
2025-12-17 16:37:39.332 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_vs/browserLink - 200 null text/javascript; charset=UTF-8 124.8835ms
2025-12-17 16:37:39.425 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - null null
2025-12-17 16:37:39.458 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.4161ms
2025-12-17 16:42:49.160 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-12-17 16:42:49.186 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:42:49.232 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 16:42:49.257 +02:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:42:49.488 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 16:42:49.507 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 240.9062ms
2025-12-17 16:42:49.512 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 16:42:49.516 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 356.6001ms
2025-12-17 16:42:49.532 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-12-17 16:42:49.542 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:42:49.557 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 16:42:49.561 +02:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:42:49.579 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 16:42:49.583 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 17.3043ms
2025-12-17 16:42:49.586 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 16:42:49.588 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 56.4894ms
2025-12-17 16:42:49.599 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - null null
2025-12-17 16:42:49.599 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/categories - null null
2025-12-17 16:42:49.611 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/sizes - null null
2025-12-17 16:42:49.599 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/subcategories - null null
2025-12-17 16:42:49.611 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/colors - null null
2025-12-17 16:42:49.624 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:42:49.629 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:42:49.634 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:42:49.639 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:42:49.644 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:42:49.687 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 16:42:49.687 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 16:42:49.687 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 16:42:49.687 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 16:42:49.687 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 16:42:49.700 +02:00 [INF] Route matched with {action = "GetSubCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:42:49.700 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:42:49.700 +02:00 [INF] Route matched with {action = "GetSizes", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSizes() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:42:49.700 +02:00 [INF] Route matched with {action = "GetDashboardProducts", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboardProducts() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:42:49.702 +02:00 [INF] Route matched with {action = "GetColors", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetColors() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:42:51.037 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-17 16:42:51.541 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-12-17 16:42:51.541 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Colors] AS [c]
2025-12-17 16:42:51.592 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [s].[Name] = N'Кожени якета' THEN 0
    ELSE 1
END, [s].[Name], [p].[Name], [p].[Id], [s].[Id], [c].[Id], [c0].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-12-17 16:42:51.629 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CategoryId], [s].[Name], [c].[Id], [c].[Name]
FROM [SubCategories] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
2025-12-17 16:42:51.662 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Color, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.ColorViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:42:51.662 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Category, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.CategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:42:51.671 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.SubCategory, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.SubCategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:42:51.679 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi) in 1971.1414ms
2025-12-17 16:42:51.679 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi) in 1959.3203ms
2025-12-17 16:42:51.681 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi) in 1976.8974ms
2025-12-17 16:42:51.683 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 16:42:51.685 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 16:42:51.686 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
2025-12-17 16:42:51.688 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 16:42:51.704 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/subcategories - 200 null application/json; charset=utf-8 2104.6498ms
2025-12-17 16:42:51.704 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/colors - 200 null application/json; charset=utf-8 2092.8907ms
2025-12-17 16:42:51.704 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/categories - 200 null application/json; charset=utf-8 2105.1403ms
2025-12-17 16:42:51.715 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+IEnumerableWhereIterator`1[[TwinsFashion.Domain.Models.SizeDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:42:52.209 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi) in 2496.9223ms
2025-12-17 16:42:52.212 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 16:42:52.215 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/sizes - 200 null application/json; charset=utf-8 2603.6829ms
2025-12-17 16:42:52.222 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashionApi.Models.AdminProductViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 16:42:52.248 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi) in 2531.8384ms
2025-12-17 16:42:52.251 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 16:42:52.254 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - 200 null application/json; charset=utf-8 2655.1784ms
2025-12-17 16:44:02.613 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7185/api/admin/upload-images - multipart/form-data; boundary=----WebKitFormBoundary37GQBhlJBxEBAigd 456281
2025-12-17 16:44:02.628 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:44:02.634 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi)'
2025-12-17 16:44:02.654 +02:00 [INF] Route matched with {action = "UploadImages", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImages(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:44:13.465 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 16:44:13.471 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi) in 10812.3682ms
2025-12-17 16:44:13.475 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi)'
2025-12-17 16:44:13.480 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7185/api/admin/upload-images - 200 null application/json; charset=utf-8 10867.258ms
2025-12-17 16:44:13.491 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7185/api/admin/products - null null
2025-12-17 16:44:13.495 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:44:13.499 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7185/api/admin/products - 204 null null 7.7682ms
2025-12-17 16:44:13.502 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7185/api/admin/products - application/json 818
2025-12-17 16:44:13.511 +02:00 [INF] CORS policy execution successful.
2025-12-17 16:44:13.513 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi)'
2025-12-17 16:44:13.520 +02:00 [INF] Route matched with {action = "AddProduct", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddProduct(TwinsFashionApi.Models.AdminAddProductRequest) on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 16:44:13.687 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__categoryId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__categoryId_0
2025-12-17 16:44:13.714 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__colorId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Colors] AS [c]
WHERE [c].[Id] = @__colorId_0
2025-12-17 16:44:13.740 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__subCategoryId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CategoryId], [s].[Name]
FROM [SubCategories] AS [s]
WHERE [s].[Id] = @__subCategoryId_0
2025-12-17 16:44:13.785 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
WHERE [s].[Id] IN ('b7dc5e44-3d7d-465a-9970-11cf0da55229', '4df8209c-2c96-4ae2-ba36-3dea31322a70', '727e1901-8d5e-492c-a43c-4109fd258865', '70226002-cdc6-4879-bb17-900af064f15c')
2025-12-17 16:44:14.199 +02:00 [ERR] Failed executing DbCommand (64ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 1000), @p4='?' (Size = 150), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (Size = 4000), @p12='?' (DbType = Guid), @p13='?' (DbType = Boolean), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (DbType = Guid), @p23='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([Id], [CategoryId], [ColorId], [Description], [Name], [Price], [Quantity], [SubCategoryId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INSERT INTO [Images] ([Id], [IsCover], [ProductId], [Url])
VALUES (@p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15);
INSERT INTO [ProductSize] ([ProductId], [SizeId])
VALUES (@p16, @p17),
(@p18, @p19),
(@p20, @p21),
(@p22, @p23);
2025-12-17 16:44:14.263 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TwinsFashion.Data.Models.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Images_Products_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ProductSize_Product_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:4995f891-5e3e-48e4-9d38-57ff5f2cab5b
Error Number:8152,State:13,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Images_Products_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ProductSize_Product_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:4995f891-5e3e-48e4-9d38-57ff5f2cab5b
Error Number:8152,State:13,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-17 16:44:14.437 +02:00 [ERR] Error occurred while adding product to database
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Images_Products_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ProductSize_Product_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:4995f891-5e3e-48e4-9d38-57ff5f2cab5b
Error Number:8152,State:13,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TwinsFashion.Domain.Implementation.ProductService.AddProductInDatabase(String name, String description, Int32 price, Int32 quantity, Guid categoryId, Guid subCategoryId, Guid colorId, IEnumerable`1 imageUrls, IEnumerable`1 sizeIds) in C:\Users\Vange\source\repos\New Projects 2025\TwinsFashionAngular\TwinsFashion.Domain\Implementation\ProductService.cs:line 374
2025-12-17 16:44:14.482 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 16:44:14.486 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi) in 962.5216ms
2025-12-17 16:44:14.491 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi)'
2025-12-17 16:44:14.494 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7185/api/admin/products - 400 null application/json; charset=utf-8 991.6444ms
2025-12-17 17:23:20.229 +02:00 [INF] User profile is available. Using 'C:\Users\Vange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-17 17:23:20.594 +02:00 [INF] Now listening on: https://localhost:7185
2025-12-17 17:23:20.596 +02:00 [INF] Now listening on: http://localhost:5286
2025-12-17 17:23:20.892 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-17 17:23:20.893 +02:00 [INF] Hosting environment: Development
2025-12-17 17:23:20.894 +02:00 [INF] Content root path: C:\Users\Vange\source\repos\New Projects 2025\TwinsFashionAngular\TwinsFashionApi
2025-12-17 17:23:21.158 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/index.html - null null
2025-12-17 17:23:21.382 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/index.html - 200 null text/html;charset=utf-8 232.1419ms
2025-12-17 17:23:21.404 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - null null
2025-12-17 17:23:21.404 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_vs/browserLink - null null
2025-12-17 17:23:21.421 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 16.3718ms
2025-12-17 17:23:21.455 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.4724ms
2025-12-17 17:23:21.503 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - null null
2025-12-17 17:23:21.526 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.7474ms
2025-12-17 17:24:50.955 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-12-17 17:24:50.973 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:24:51.017 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 17:24:51.039 +02:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:24:51.273 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 17:24:51.298 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 248.3715ms
2025-12-17 17:24:51.301 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 17:24:51.306 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 389.3229ms
2025-12-17 17:24:51.324 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-12-17 17:24:51.334 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:24:51.350 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 17:24:51.395 +02:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:24:51.415 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 17:24:51.419 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 18.2309ms
2025-12-17 17:24:51.422 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 17:24:51.424 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 100.6621ms
2025-12-17 17:24:51.431 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - null null
2025-12-17 17:24:51.435 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/sizes - null null
2025-12-17 17:24:51.432 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/categories - null null
2025-12-17 17:24:51.434 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/colors - null null
2025-12-17 17:24:51.433 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/subcategories - null null
2025-12-17 17:24:51.449 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:24:51.454 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:24:51.460 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:24:51.465 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:24:51.471 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:24:51.487 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 17:24:51.487 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 17:24:51.487 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 17:24:51.487 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 17:24:51.487 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 17:24:51.503 +02:00 [INF] Route matched with {action = "GetSizes", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSizes() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:24:51.503 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:24:51.503 +02:00 [INF] Route matched with {action = "GetColors", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetColors() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:24:51.503 +02:00 [INF] Route matched with {action = "GetSubCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:24:51.505 +02:00 [INF] Route matched with {action = "GetDashboardProducts", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboardProducts() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:24:52.872 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-17 17:24:53.434 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
2025-12-17 17:24:53.441 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [s].[Name] = N'Кожени якета' THEN 0
    ELSE 1
END, [s].[Name], [p].[Name], [p].[Id], [s].[Id], [c].[Id], [c0].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-12-17 17:24:53.490 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-12-17 17:24:53.544 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CategoryId], [s].[Name], [c].[Id], [c].[Name]
FROM [SubCategories] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
2025-12-17 17:24:53.559 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Category, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.CategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:24:53.559 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+IEnumerableWhereIterator`1[[TwinsFashion.Domain.Models.SizeDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:24:53.568 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.SubCategory, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.SubCategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:24:53.582 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi) in 2071.1805ms
2025-12-17 17:24:53.655 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Colors] AS [c]
2025-12-17 17:24:53.656 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi) in 2135.131ms
2025-12-17 17:24:53.657 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 17:24:53.663 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Color, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.ColorViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:24:53.664 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 17:24:53.675 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi) in 2158.6117ms
2025-12-17 17:24:53.679 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 17:24:53.682 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/subcategories - 200 null application/json; charset=utf-8 2249.4251ms
2025-12-17 17:24:53.682 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/categories - 200 null application/json; charset=utf-8 2250.0203ms
2025-12-17 17:24:53.683 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/colors - 200 null application/json; charset=utf-8 2248.8862ms
2025-12-17 17:24:53.745 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi) in 2238.2185ms
2025-12-17 17:24:53.750 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 17:24:53.753 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/sizes - 200 null application/json; charset=utf-8 2318.1555ms
2025-12-17 17:24:53.763 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashionApi.Models.AdminProductViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:24:53.797 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi) in 2270.7198ms
2025-12-17 17:24:53.801 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 17:24:53.803 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - 200 null application/json; charset=utf-8 2372.544ms
2025-12-17 17:26:14.022 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7185/api/admin/upload-images - multipart/form-data; boundary=----WebKitFormBoundaryXGL8OWin1LBc6cku 456281
2025-12-17 17:26:14.071 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:26:14.077 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi)'
2025-12-17 17:26:14.097 +02:00 [INF] Route matched with {action = "UploadImages", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImages(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:26:23.095 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 17:26:23.102 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi) in 9000.9096ms
2025-12-17 17:26:23.106 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi)'
2025-12-17 17:26:23.111 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7185/api/admin/upload-images - 200 null application/json; charset=utf-8 9089.6472ms
2025-12-17 17:26:23.127 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7185/api/admin/products - null null
2025-12-17 17:26:23.133 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:26:23.137 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7185/api/admin/products - 204 null null 9.452ms
2025-12-17 17:26:23.140 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7185/api/admin/products - application/json 818
2025-12-17 17:26:23.148 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:26:23.151 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi)'
2025-12-17 17:26:23.159 +02:00 [INF] Route matched with {action = "AddProduct", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddProduct(TwinsFashionApi.Models.AdminAddProductRequest) on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:26:23.439 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__categoryId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__categoryId_0
2025-12-17 17:26:23.468 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__colorId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Colors] AS [c]
WHERE [c].[Id] = @__colorId_0
2025-12-17 17:26:23.495 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__subCategoryId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CategoryId], [s].[Name]
FROM [SubCategories] AS [s]
WHERE [s].[Id] = @__subCategoryId_0
2025-12-17 17:26:23.542 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
WHERE [s].[Id] IN ('b7dc5e44-3d7d-465a-9970-11cf0da55229', '4df8209c-2c96-4ae2-ba36-3dea31322a70', '727e1901-8d5e-492c-a43c-4109fd258865', '70226002-cdc6-4879-bb17-900af064f15c')
2025-12-17 17:26:23.872 +02:00 [ERR] Failed executing DbCommand (59ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 1000), @p4='?' (Size = 150), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (Size = 4000), @p12='?' (DbType = Guid), @p13='?' (DbType = Boolean), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (DbType = Guid), @p23='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([Id], [CategoryId], [ColorId], [Description], [Name], [Price], [Quantity], [SubCategoryId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INSERT INTO [Images] ([Id], [IsCover], [ProductId], [Url])
VALUES (@p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15);
INSERT INTO [ProductSize] ([ProductId], [SizeId])
VALUES (@p16, @p17),
(@p18, @p19),
(@p20, @p21),
(@p22, @p23);
2025-12-17 17:26:23.948 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TwinsFashion.Data.Models.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Images_Products_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ProductSize_Product_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:758b3f7b-bf63-477d-baff-9a69719216c8
Error Number:8152,State:13,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Images_Products_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ProductSize_Product_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:758b3f7b-bf63-477d-baff-9a69719216c8
Error Number:8152,State:13,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-17 17:26:24.142 +02:00 [ERR] Error occurred while adding product to database. NameLength=54, DescLength=63, MaxUrlLength=103
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Images_Products_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ProductSize_Product_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:758b3f7b-bf63-477d-baff-9a69719216c8
Error Number:8152,State:13,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TwinsFashion.Domain.Implementation.ProductService.AddProductInDatabase(String name, String description, Int32 price, Int32 quantity, Guid categoryId, Guid subCategoryId, Guid colorId, IEnumerable`1 imageUrls, IEnumerable`1 sizeIds) in C:\Users\Vange\source\repos\New Projects 2025\TwinsFashionAngular\TwinsFashion.Domain\Implementation\ProductService.cs:line 394
2025-12-17 17:26:24.190 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 17:26:24.195 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi) in 1032.6893ms
2025-12-17 17:26:24.198 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi)'
2025-12-17 17:26:24.200 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7185/api/admin/products - 400 null application/json; charset=utf-8 1060.6353ms
2025-12-17 17:30:37.576 +02:00 [INF] User profile is available. Using 'C:\Users\Vange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-17 17:30:37.922 +02:00 [INF] Now listening on: https://localhost:7185
2025-12-17 17:30:37.923 +02:00 [INF] Now listening on: http://localhost:5286
2025-12-17 17:30:38.161 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-17 17:30:38.163 +02:00 [INF] Hosting environment: Development
2025-12-17 17:30:38.164 +02:00 [INF] Content root path: C:\Users\Vange\source\repos\New Projects 2025\TwinsFashionAngular\TwinsFashionApi
2025-12-17 17:30:38.422 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/index.html - null null
2025-12-17 17:30:38.698 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/index.html - 200 null text/html;charset=utf-8 283.24ms
2025-12-17 17:30:38.718 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_vs/browserLink - null null
2025-12-17 17:30:38.718 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - null null
2025-12-17 17:30:38.737 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 18.9372ms
2025-12-17 17:30:38.769 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.411ms
2025-12-17 17:30:38.815 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - null null
2025-12-17 17:30:38.845 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.3319ms
2025-12-17 17:31:41.529 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-12-17 17:31:41.553 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:31:41.601 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 17:31:41.657 +02:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:31:41.912 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 17:31:41.935 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 266.4095ms
2025-12-17 17:31:41.938 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 17:31:41.952 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 423.24ms
2025-12-17 17:31:41.963 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-12-17 17:31:41.972 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:31:41.975 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 17:31:41.977 +02:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:31:41.992 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 17:31:41.996 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 15.3012ms
2025-12-17 17:31:41.999 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 17:31:42.001 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 37.7873ms
2025-12-17 17:31:42.007 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/categories - null null
2025-12-17 17:31:42.007 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - null null
2025-12-17 17:31:42.008 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/subcategories - null null
2025-12-17 17:31:42.078 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/sizes - null null
2025-12-17 17:31:42.078 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/colors - null null
2025-12-17 17:31:42.088 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:31:42.092 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:31:42.096 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:31:42.101 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:31:42.105 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:31:42.122 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 17:31:42.122 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 17:31:42.122 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 17:31:42.122 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 17:31:42.122 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 17:31:42.136 +02:00 [INF] Route matched with {action = "GetDashboardProducts", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboardProducts() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:31:42.136 +02:00 [INF] Route matched with {action = "GetSubCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:31:42.136 +02:00 [INF] Route matched with {action = "GetSizes", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSizes() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:31:42.138 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:31:42.141 +02:00 [INF] Route matched with {action = "GetColors", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetColors() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:31:43.581 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-17 17:31:44.129 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Colors] AS [c]
2025-12-17 17:31:44.129 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [s].[Name] = N'Кожени якета' THEN 0
    ELSE 1
END, [s].[Name], [p].[Name], [p].[Id], [s].[Id], [c].[Id], [c0].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-12-17 17:31:44.160 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CategoryId], [s].[Name], [c].[Id], [c].[Name]
FROM [SubCategories] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
2025-12-17 17:31:44.218 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-12-17 17:31:44.268 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Category, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.CategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:31:44.268 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Color, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.ColorViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:31:44.268 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.SubCategory, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.SubCategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:31:44.269 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
2025-12-17 17:31:44.284 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi) in 2140.5167ms
2025-12-17 17:31:44.284 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi) in 2132.5172ms
2025-12-17 17:31:44.284 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi) in 2129.1263ms
2025-12-17 17:31:44.287 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 17:31:44.288 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 17:31:44.290 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 17:31:44.293 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+IEnumerableWhereIterator`1[[TwinsFashion.Domain.Models.SizeDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:31:44.307 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/colors - 200 null application/json; charset=utf-8 2229.2746ms
2025-12-17 17:31:44.307 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/categories - 200 null application/json; charset=utf-8 2300.2775ms
2025-12-17 17:31:44.307 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/subcategories - 200 null application/json; charset=utf-8 2298.8872ms
2025-12-17 17:31:44.394 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi) in 2246.5259ms
2025-12-17 17:31:44.397 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 17:31:44.399 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/sizes - 200 null application/json; charset=utf-8 2321.5545ms
2025-12-17 17:31:44.405 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashionApi.Models.AdminProductViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:31:44.436 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi) in 2295.884ms
2025-12-17 17:31:44.438 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 17:31:44.440 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - 200 null application/json; charset=utf-8 2433.8638ms
2025-12-17 17:32:57.312 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7185/api/admin/upload-images - multipart/form-data; boundary=----WebKitFormBoundarySIjTr2bluP2oSTZK 456281
2025-12-17 17:32:57.324 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:32:57.329 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi)'
2025-12-17 17:32:57.345 +02:00 [INF] Route matched with {action = "UploadImages", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImages(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:33:00.467 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 17:33:00.472 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi) in 3123.3335ms
2025-12-17 17:33:00.476 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi)'
2025-12-17 17:33:00.482 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7185/api/admin/upload-images - 200 null application/json; charset=utf-8 3170.2621ms
2025-12-17 17:33:00.505 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7185/api/admin/products - null null
2025-12-17 17:33:00.516 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:33:00.519 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7185/api/admin/products - 204 null null 18.5757ms
2025-12-17 17:33:00.523 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7185/api/admin/products - application/json 818
2025-12-17 17:33:00.533 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:33:00.535 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi)'
2025-12-17 17:33:00.544 +02:00 [INF] Route matched with {action = "AddProduct", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddProduct(TwinsFashionApi.Models.AdminAddProductRequest) on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:33:00.762 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__categoryId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__categoryId_0
2025-12-17 17:33:00.791 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__colorId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Colors] AS [c]
WHERE [c].[Id] = @__colorId_0
2025-12-17 17:33:00.825 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__subCategoryId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CategoryId], [s].[Name]
FROM [SubCategories] AS [s]
WHERE [s].[Id] = @__subCategoryId_0
2025-12-17 17:33:00.868 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
WHERE [s].[Id] IN ('b7dc5e44-3d7d-465a-9970-11cf0da55229', '4df8209c-2c96-4ae2-ba36-3dea31322a70', '727e1901-8d5e-492c-a43c-4109fd258865', '70226002-cdc6-4879-bb17-900af064f15c')
2025-12-17 17:33:01.151 +02:00 [ERR] Failed executing DbCommand (35ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (Size = 4000), @p12='?' (DbType = Guid), @p13='?' (DbType = Boolean), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (DbType = Guid), @p23='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([Id], [CategoryId], [ColorId], [Description], [Name], [Price], [Quantity], [SubCategoryId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INSERT INTO [Images] ([Id], [IsCover], [ProductId], [Url])
VALUES (@p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15);
INSERT INTO [ProductSize] ([ProductId], [SizeId])
VALUES (@p16, @p17),
(@p18, @p19),
(@p20, @p21),
(@p22, @p23);
2025-12-17 17:33:01.205 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'TwinsFashion.Data.Models.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Images_Products_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ProductSize_Product_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9faec3c3-e747-4a19-b1ea-8f76afe0fec0
Error Number:8152,State:13,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Images_Products_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ProductSize_Product_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9faec3c3-e747-4a19-b1ea-8f76afe0fec0
Error Number:8152,State:13,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-17 17:33:01.449 +02:00 [ERR] Error occurred while adding product to database. NameLength=54, DescLength=63, MaxUrlLength=103
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Images_Products_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_ProductSize_Product_ProductId". The conflict occurred in database "venonom1_twinsfashion", table "venonom1_twinsfashion.Products", column 'Id'.
The statement has been terminated.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9faec3c3-e747-4a19-b1ea-8f76afe0fec0
Error Number:8152,State:13,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TwinsFashion.Domain.Implementation.ProductService.AddProductInDatabase(String name, String description, Int32 price, Int32 quantity, Guid categoryId, Guid subCategoryId, Guid colorId, IEnumerable`1 imageUrls, IEnumerable`1 sizeIds) in C:\Users\Vange\source\repos\New Projects 2025\TwinsFashionAngular\TwinsFashion.Domain\Implementation\ProductService.cs:line 394
2025-12-17 17:33:01.487 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 17:33:01.492 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi) in 943.3871ms
2025-12-17 17:33:01.495 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi)'
2025-12-17 17:33:01.497 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7185/api/admin/products - 400 null application/json; charset=utf-8 974.2642ms
2025-12-17 17:38:03.820 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-12-17 17:38:03.824 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:38:03.825 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 17:38:03.827 +02:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:38:03.830 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 17:38:03.832 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 2.6247ms
2025-12-17 17:38:03.835 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 17:38:03.837 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 17.2058ms
2025-12-17 17:38:03.846 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - null null
2025-12-17 17:38:03.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/colors - null null
2025-12-17 17:38:03.847 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/categories - null null
2025-12-17 17:38:03.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/subcategories - null null
2025-12-17 17:38:03.865 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/sizes - null null
2025-12-17 17:38:03.867 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:38:03.870 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:38:03.873 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:38:03.877 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:38:03.883 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:38:03.885 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 17:38:03.886 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 17:38:03.887 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 17:38:03.888 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 17:38:03.890 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 17:38:03.891 +02:00 [INF] Route matched with {action = "GetDashboardProducts", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboardProducts() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:38:03.893 +02:00 [INF] Route matched with {action = "GetColors", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetColors() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:38:03.895 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:38:03.897 +02:00 [INF] Route matched with {action = "GetSubCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:38:03.899 +02:00 [INF] Route matched with {action = "GetSizes", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSizes() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:38:03.997 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [s].[Name] = N'Кожени якета' THEN 0
    ELSE 1
END, [s].[Name], [p].[Name], [p].[Id], [s].[Id], [c].[Id], [c0].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-12-17 17:38:04.019 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashionApi.Models.AdminProductViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:38:04.025 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi) in 123.2869ms
2025-12-17 17:38:04.028 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 17:38:04.030 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Colors] AS [c]
2025-12-17 17:38:04.030 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-12-17 17:38:04.031 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - 200 null application/json; charset=utf-8 184.6767ms
2025-12-17 17:38:04.035 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Color, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.ColorViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:38:04.037 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Category, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.CategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:38:04.044 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi) in 138.9242ms
2025-12-17 17:38:04.046 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi) in 138.1651ms
2025-12-17 17:38:04.047 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 17:38:04.049 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 17:38:04.051 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/colors - 200 null application/json; charset=utf-8 202.9852ms
2025-12-17 17:38:04.052 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/categories - 200 null application/json; charset=utf-8 205.205ms
2025-12-17 17:38:04.118 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CategoryId], [s].[Name], [c].[Id], [c].[Name]
FROM [SubCategories] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
2025-12-17 17:38:04.118 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
2025-12-17 17:38:04.125 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.SubCategory, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.SubCategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:38:04.128 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+IEnumerableWhereIterator`1[[TwinsFashion.Domain.Models.SizeDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:38:04.129 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi) in 193.3063ms
2025-12-17 17:38:04.131 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi) in 189.7032ms
2025-12-17 17:38:04.132 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 17:38:04.134 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 17:38:04.135 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/subcategories - 200 null application/json; charset=utf-8 287.7191ms
2025-12-17 17:38:04.136 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/sizes - 200 null application/json; charset=utf-8 273.0404ms
2025-12-17 17:46:26.793 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-17 17:46:26.826 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-17 17:46:26.871 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-12-17 17:46:26.989 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-12-17 17:46:27.029 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-17 17:46:27.041 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-12-17 17:46:27.062 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-12-17 17:46:27.069 +02:00 [INF] Applying migration '20251217154617_ExpandProductTextFields'.
2025-12-17 17:46:27.150 +02:00 [ERR] Failed executing DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AdminUsers] (
    [Id] uniqueidentifier NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [PasswordHash] nvarchar(256) NOT NULL,
    [PasswordSalt] nvarchar(256) NOT NULL,
    CONSTRAINT [PK_AdminUsers] PRIMARY KEY ([Id])
);
2025-12-17 17:54:19.062 +02:00 [INF] User profile is available. Using 'C:\Users\Vange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-17 17:54:19.395 +02:00 [INF] Now listening on: https://localhost:7185
2025-12-17 17:54:19.397 +02:00 [INF] Now listening on: http://localhost:5286
2025-12-17 17:54:19.675 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-17 17:54:19.676 +02:00 [INF] Hosting environment: Development
2025-12-17 17:54:19.678 +02:00 [INF] Content root path: C:\Users\Vange\source\repos\New Projects 2025\TwinsFashionAngular\TwinsFashionApi
2025-12-17 17:54:19.880 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/index.html - null null
2025-12-17 17:54:20.140 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/index.html - 200 null text/html;charset=utf-8 266.0951ms
2025-12-17 17:54:20.145 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - null null
2025-12-17 17:54:20.155 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 9.3754ms
2025-12-17 17:54:20.157 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_vs/browserLink - null null
2025-12-17 17:54:20.213 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.8558ms
2025-12-17 17:54:20.260 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - null null
2025-12-17 17:54:20.286 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.1701ms
2025-12-17 17:54:29.962 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-12-17 17:54:29.976 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:54:30.024 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 17:54:30.044 +02:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:54:30.235 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 17:54:30.251 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 198.4656ms
2025-12-17 17:54:30.254 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 17:54:30.258 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 296.0768ms
2025-12-17 17:54:30.271 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-12-17 17:54:30.279 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:54:30.281 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 17:54:30.283 +02:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:54:30.293 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 17:54:30.296 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 10.4454ms
2025-12-17 17:54:30.298 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 17:54:30.300 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 28.9099ms
2025-12-17 17:54:30.305 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/colors - null null
2025-12-17 17:54:30.308 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/sizes - null null
2025-12-17 17:54:30.304 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/categories - null null
2025-12-17 17:54:30.305 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/subcategories - null null
2025-12-17 17:54:30.304 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - null null
2025-12-17 17:54:30.315 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:54:30.318 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:54:30.323 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:54:30.327 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:54:30.332 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:54:30.344 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 17:54:30.344 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 17:54:30.344 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 17:54:30.344 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 17:54:30.344 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 17:54:30.356 +02:00 [INF] Route matched with {action = "GetSizes", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSizes() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:54:30.356 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:54:30.356 +02:00 [INF] Route matched with {action = "GetSubCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:54:30.359 +02:00 [INF] Route matched with {action = "GetDashboardProducts", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboardProducts() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:54:30.359 +02:00 [INF] Route matched with {action = "GetColors", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetColors() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:54:31.662 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-17 17:54:32.183 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-12-17 17:54:32.183 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Colors] AS [c]
2025-12-17 17:54:32.231 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CategoryId], [s].[Name], [c].[Id], [c].[Name]
FROM [SubCategories] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
2025-12-17 17:54:32.306 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.SubCategory, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.SubCategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:54:32.306 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Category, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.CategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:54:32.306 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Color, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.ColorViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:54:32.322 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi) in 1951.6499ms
2025-12-17 17:54:32.322 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi) in 1960.711ms
2025-12-17 17:54:32.322 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi) in 1957.7479ms
2025-12-17 17:54:32.326 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 17:54:32.326 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
2025-12-17 17:54:32.327 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 17:54:32.329 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 17:54:32.330 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [s].[Name] = N'Кожени якета' THEN 0
    ELSE 1
END, [s].[Name], [p].[Name], [p].[Id], [s].[Id], [c].[Id], [c0].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-12-17 17:54:32.342 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/colors - 200 null application/json; charset=utf-8 2037.1715ms
2025-12-17 17:54:32.342 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/subcategories - 200 null application/json; charset=utf-8 2037.4458ms
2025-12-17 17:54:32.342 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/categories - 200 null application/json; charset=utf-8 2037.7452ms
2025-12-17 17:54:32.348 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+IEnumerableWhereIterator`1[[TwinsFashion.Domain.Models.SizeDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:54:32.523 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi) in 2163.9237ms
2025-12-17 17:54:32.525 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 17:54:32.527 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/sizes - 200 null application/json; charset=utf-8 2220.4081ms
2025-12-17 17:54:32.537 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashionApi.Models.AdminProductViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:54:32.569 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi) in 2200.8883ms
2025-12-17 17:54:32.572 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 17:54:32.574 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - 200 null application/json; charset=utf-8 2269.4299ms
2025-12-17 17:55:46.945 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7185/api/admin/upload-images - multipart/form-data; boundary=----WebKitFormBoundarywVVLKkRF9sHmYXyz 456281
2025-12-17 17:55:46.956 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:55:46.960 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi)'
2025-12-17 17:55:46.977 +02:00 [INF] Route matched with {action = "UploadImages", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImages(System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:55:50.025 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 17:55:50.030 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi) in 3050.5442ms
2025-12-17 17:55:50.032 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.UploadImages (TwinsFashionApi)'
2025-12-17 17:55:50.036 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7185/api/admin/upload-images - 200 null application/json; charset=utf-8 3090.7534ms
2025-12-17 17:55:50.043 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7185/api/admin/products - null null
2025-12-17 17:55:50.048 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:55:50.051 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7185/api/admin/products - 204 null null 7.4383ms
2025-12-17 17:55:50.053 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7185/api/admin/products - application/json 818
2025-12-17 17:55:50.060 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:55:50.062 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi)'
2025-12-17 17:55:50.069 +02:00 [INF] Route matched with {action = "AddProduct", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddProduct(TwinsFashionApi.Models.AdminAddProductRequest) on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:55:50.230 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__categoryId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__categoryId_0
2025-12-17 17:55:50.256 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__colorId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name]
FROM [Colors] AS [c]
WHERE [c].[Id] = @__colorId_0
2025-12-17 17:55:50.278 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__subCategoryId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CategoryId], [s].[Name]
FROM [SubCategories] AS [s]
WHERE [s].[Id] = @__subCategoryId_0
2025-12-17 17:55:50.320 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
WHERE [s].[Id] IN ('b7dc5e44-3d7d-465a-9970-11cf0da55229', '4df8209c-2c96-4ae2-ba36-3dea31322a70', '70226002-cdc6-4879-bb17-900af064f15c', '727e1901-8d5e-492c-a43c-4109fd258865')
2025-12-17 17:55:50.572 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (DbType = Boolean), @p10='?' (DbType = Guid), @p11='?' (Size = 4000), @p12='?' (DbType = Guid), @p13='?' (DbType = Boolean), @p14='?' (DbType = Guid), @p15='?' (Size = 4000), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?' (DbType = Guid), @p23='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([Id], [CategoryId], [ColorId], [Description], [Name], [Price], [Quantity], [SubCategoryId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INSERT INTO [Images] ([Id], [IsCover], [ProductId], [Url])
VALUES (@p8, @p9, @p10, @p11),
(@p12, @p13, @p14, @p15);
INSERT INTO [ProductSize] ([ProductId], [SizeId])
VALUES (@p16, @p17),
(@p18, @p19),
(@p20, @p21),
(@p22, @p23);
2025-12-17 17:55:50.633 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 17:55:50.637 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi) in 564.6206ms
2025-12-17 17:55:50.639 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.AddProduct (TwinsFashionApi)'
2025-12-17 17:55:50.641 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7185/api/admin/products - 200 null application/json; charset=utf-8 587.9034ms
2025-12-17 17:55:50.644 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/categories - null null
2025-12-17 17:55:50.644 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - null null
2025-12-17 17:55:50.647 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/subcategories - null null
2025-12-17 17:55:50.650 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/colors - null null
2025-12-17 17:55:50.655 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/sizes - null null
2025-12-17 17:55:50.659 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:55:50.663 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:55:50.668 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:55:50.671 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:55:50.675 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:55:50.677 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 17:55:50.678 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 17:55:50.680 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 17:55:50.682 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 17:55:50.683 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 17:55:50.685 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:55:50.686 +02:00 [INF] Route matched with {action = "GetDashboardProducts", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboardProducts() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:55:50.689 +02:00 [INF] Route matched with {action = "GetSubCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:55:50.691 +02:00 [INF] Route matched with {action = "GetColors", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetColors() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:55:50.693 +02:00 [INF] Route matched with {action = "GetSizes", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSizes() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:55:50.709 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-12-17 17:55:50.713 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Category, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.CategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:55:50.716 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi) in 19.5565ms
2025-12-17 17:55:50.717 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CategoryId], [s].[Name], [c].[Id], [c].[Name]
FROM [SubCategories] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
2025-12-17 17:55:50.718 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 17:55:50.724 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.SubCategory, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.SubCategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:55:50.724 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/categories - 200 null application/json; charset=utf-8 79.4074ms
2025-12-17 17:55:50.726 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [s].[Name] = N'Кожени якета' THEN 0
    ELSE 1
END, [s].[Name], [p].[Name], [p].[Id], [s].[Id], [c].[Id], [c0].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-12-17 17:55:50.726 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Colors] AS [c]
2025-12-17 17:55:50.727 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi) in 24.1809ms
2025-12-17 17:55:50.727 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
2025-12-17 17:55:50.740 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Color, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.ColorViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:55:50.741 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 17:55:50.745 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+IEnumerableWhereIterator`1[[TwinsFashion.Domain.Models.SizeDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:55:50.747 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi) in 41.4916ms
2025-12-17 17:55:50.749 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/subcategories - 200 null application/json; charset=utf-8 103.104ms
2025-12-17 17:55:50.751 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi) in 42.8402ms
2025-12-17 17:55:50.753 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashionApi.Models.AdminProductViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:55:50.753 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 17:55:50.759 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 17:55:50.762 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi) in 63.4852ms
2025-12-17 17:55:50.764 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/colors - 200 null application/json; charset=utf-8 113.5086ms
2025-12-17 17:55:50.765 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/sizes - 200 null application/json; charset=utf-8 109.7086ms
2025-12-17 17:55:50.767 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 17:55:50.778 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - 200 null application/json; charset=utf-8 134.0179ms
2025-12-17 17:55:58.513 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7185/api/admin/products/0b39204a-0bdb-47e8-a69b-53874b2f3d32/set-cover-image - null null
2025-12-17 17:55:58.517 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:55:58.520 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7185/api/admin/products/0b39204a-0bdb-47e8-a69b-53874b2f3d32/set-cover-image - 204 null null 7.0331ms
2025-12-17 17:55:58.521 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7185/api/admin/products/0b39204a-0bdb-47e8-a69b-53874b2f3d32/set-cover-image - application/json 50
2025-12-17 17:55:58.531 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:55:58.533 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.SetCoverImage (TwinsFashionApi)'
2025-12-17 17:55:58.539 +02:00 [INF] Route matched with {action = "SetCoverImage", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SetCoverImage(System.Guid, TwinsFashionApi.Models.SetCoverImageRequest) on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:55:58.581 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__productId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]
        WHERE [p].[Id] = @__productId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-17 17:55:58.611 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__imageId_0='?' (DbType = Guid), @__productId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[Id] = @__imageId_0 AND [i].[ProductId] = @__productId_1
2025-12-17 17:55:58.634 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__productId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url]
FROM [Images] AS [i]
WHERE [i].[ProductId] = @__productId_0
2025-12-17 17:55:58.700 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Images] SET [IsCover] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-17 17:55:58.708 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 17:55:58.711 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.SetCoverImage (TwinsFashionApi) in 167.8635ms
2025-12-17 17:55:58.713 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.SetCoverImage (TwinsFashionApi)'
2025-12-17 17:55:58.714 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7185/api/admin/products/0b39204a-0bdb-47e8-a69b-53874b2f3d32/set-cover-image - 200 null application/json; charset=utf-8 193.0458ms
2025-12-17 17:55:58.719 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/sizes - null null
2025-12-17 17:55:58.718 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/colors - null null
2025-12-17 17:55:58.718 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/categories - null null
2025-12-17 17:55:58.718 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/subcategories - null null
2025-12-17 17:55:58.717 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - null null
2025-12-17 17:55:58.729 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:55:58.732 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:55:58.736 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:55:58.740 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:55:58.744 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:55:58.746 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 17:55:58.747 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 17:55:58.748 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 17:55:58.750 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 17:55:58.751 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 17:55:58.753 +02:00 [INF] Route matched with {action = "GetSizes", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSizes() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:55:58.754 +02:00 [INF] Route matched with {action = "GetColors", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetColors() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:55:58.756 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:55:58.758 +02:00 [INF] Route matched with {action = "GetSubCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:55:58.759 +02:00 [INF] Route matched with {action = "GetDashboardProducts", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboardProducts() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 17:55:58.781 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-12-17 17:55:58.781 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Colors] AS [c]
2025-12-17 17:55:58.781 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
2025-12-17 17:55:58.784 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CategoryId], [s].[Name], [c].[Id], [c].[Name]
FROM [SubCategories] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
2025-12-17 17:55:58.786 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Category, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.CategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:55:58.789 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Color, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.ColorViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:55:58.791 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [s].[Name] = N'Кожени якета' THEN 0
    ELSE 1
END, [s].[Name], [p].[Name], [p].[Id], [s].[Id], [c].[Id], [c0].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-12-17 17:55:58.794 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+IEnumerableWhereIterator`1[[TwinsFashion.Domain.Models.SizeDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:55:58.798 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.SubCategory, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.SubCategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:55:58.798 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi) in 31.0581ms
2025-12-17 17:55:58.801 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi) in 35.5291ms
2025-12-17 17:55:58.807 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi) in 44.4647ms
2025-12-17 17:55:58.809 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi) in 39.2803ms
2025-12-17 17:55:58.811 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 17:55:58.813 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 17:55:58.815 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 17:55:58.817 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 17:55:58.820 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/categories - 200 null application/json; charset=utf-8 101.8952ms
2025-12-17 17:55:58.822 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/colors - 200 null application/json; charset=utf-8 103.4863ms
2025-12-17 17:55:58.822 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashionApi.Models.AdminProductViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:55:58.823 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/sizes - 200 null application/json; charset=utf-8 104.3867ms
2025-12-17 17:55:58.825 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/subcategories - 200 null application/json; charset=utf-8 107.1461ms
2025-12-17 17:55:58.837 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi) in 65.4077ms
2025-12-17 17:55:58.848 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 17:55:58.850 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - 200 null application/json; charset=utf-8 132.8199ms
2025-12-17 17:56:01.150 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/all - null null
2025-12-17 17:56:01.154 +02:00 [INF] CORS policy execution successful.
2025-12-17 17:56:01.156 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-12-17 17:56:01.161 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TwinsFashion.Domain.Models.ProductDto]]] GetAll() on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-12-17 17:56:01.189 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [s].[Name] = N'Кожени якета' THEN 0
    ELSE 1
END, [s].[Name], [p].[Name], [p].[Id], [s].[Id], [c].[Id], [c0].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-12-17 17:56:01.201 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+IEnumerableWhereIterator`1[[TwinsFashion.Domain.Models.ProductDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 17:56:01.213 +02:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi) in 48.6061ms
2025-12-17 17:56:01.215 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-12-17 17:56:01.217 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/all - 200 null application/json; charset=utf-8 67.1526ms
2025-12-17 18:04:14.843 +02:00 [INF] User profile is available. Using 'C:\Users\Vange\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-17 18:04:15.107 +02:00 [INF] Now listening on: https://localhost:7185
2025-12-17 18:04:15.109 +02:00 [INF] Now listening on: http://localhost:5286
2025-12-17 18:04:15.263 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-17 18:04:15.264 +02:00 [INF] Hosting environment: Development
2025-12-17 18:04:15.265 +02:00 [INF] Content root path: C:\Users\Vange\source\repos\New Projects 2025\TwinsFashionAngular\TwinsFashionApi
2025-12-17 18:04:15.841 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/index.html - null null
2025-12-17 18:04:16.068 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/index.html - 200 null text/html;charset=utf-8 231.5332ms
2025-12-17 18:04:16.073 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - null null
2025-12-17 18:04:16.081 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_framework/aspnetcore-browser-refresh.js - 200 16515 application/javascript; charset=utf-8 8.1607ms
2025-12-17 18:04:16.096 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/_vs/browserLink - null null
2025-12-17 18:04:16.136 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.5965ms
2025-12-17 18:04:16.181 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - null null
2025-12-17 18:04:16.218 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.0132ms
2025-12-17 18:04:43.371 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-12-17 18:04:43.390 +02:00 [INF] CORS policy execution successful.
2025-12-17 18:04:43.432 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 18:04:43.456 +02:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 18:04:43.671 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 18:04:43.688 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 224.7894ms
2025-12-17 18:04:43.691 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 18:04:43.695 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 323.606ms
2025-12-17 18:04:43.709 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/check-auth - null null
2025-12-17 18:04:43.715 +02:00 [INF] CORS policy execution successful.
2025-12-17 18:04:43.724 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 18:04:43.725 +02:00 [INF] Route matched with {action = "CheckAuth", controller = "Admin"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CheckAuth() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 18:04:43.739 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 18:04:43.741 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi) in 14.0075ms
2025-12-17 18:04:43.743 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.CheckAuth (TwinsFashionApi)'
2025-12-17 18:04:43.745 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/check-auth - 200 null application/json; charset=utf-8 35.5264ms
2025-12-17 18:04:43.749 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/subcategories - null null
2025-12-17 18:04:43.749 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - null null
2025-12-17 18:04:43.749 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/categories - null null
2025-12-17 18:04:43.797 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/colors - null null
2025-12-17 18:04:43.797 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/sizes - null null
2025-12-17 18:04:43.801 +02:00 [INF] CORS policy execution successful.
2025-12-17 18:04:43.802 +02:00 [INF] CORS policy execution successful.
2025-12-17 18:04:43.805 +02:00 [INF] CORS policy execution successful.
2025-12-17 18:04:43.808 +02:00 [INF] CORS policy execution successful.
2025-12-17 18:04:43.810 +02:00 [INF] CORS policy execution successful.
2025-12-17 18:04:43.824 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 18:04:43.824 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 18:04:43.824 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 18:04:43.824 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 18:04:43.824 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 18:04:43.836 +02:00 [INF] Route matched with {action = "GetDashboardProducts", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboardProducts() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 18:04:43.836 +02:00 [INF] Route matched with {action = "GetSubCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 18:04:43.836 +02:00 [INF] Route matched with {action = "GetSizes", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSizes() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 18:04:43.836 +02:00 [INF] Route matched with {action = "GetColors", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetColors() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 18:04:43.836 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 18:04:45.409 +02:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-17 18:04:45.974 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [s].[Name] = N'Кожени якета' THEN 0
    ELSE 1
END, [s].[Name], [p].[Name], [p].[Id], [s].[Id], [c].[Id], [c0].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-12-17 18:04:45.974 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
2025-12-17 18:04:45.976 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-12-17 18:04:46.020 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Colors] AS [c]
2025-12-17 18:04:46.077 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CategoryId], [s].[Name], [c].[Id], [c].[Name]
FROM [SubCategories] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
2025-12-17 18:04:46.127 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Category, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.CategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 18:04:46.127 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+IEnumerableWhereIterator`1[[TwinsFashion.Domain.Models.SizeDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 18:04:46.127 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Color, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.ColorViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 18:04:46.128 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.SubCategory, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.SubCategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 18:04:46.147 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi) in 2302.1354ms
2025-12-17 18:04:46.147 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi) in 2299.7082ms
2025-12-17 18:04:46.148 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi) in 2307.2682ms
2025-12-17 18:04:46.156 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 18:04:46.157 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 18:04:46.159 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 18:04:46.172 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/subcategories - 200 null application/json; charset=utf-8 2422.9424ms
2025-12-17 18:04:46.172 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/categories - 200 null application/json; charset=utf-8 2423.1548ms
2025-12-17 18:04:46.172 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/colors - 200 null application/json; charset=utf-8 2414.8836ms
2025-12-17 18:04:46.245 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi) in 2401.7712ms
2025-12-17 18:04:46.247 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 18:04:46.249 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/sizes - 200 null application/json; charset=utf-8 2451.4615ms
2025-12-17 18:04:46.257 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashionApi.Models.AdminProductViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 18:04:46.289 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi) in 2451.055ms
2025-12-17 18:04:46.292 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 18:04:46.293 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - 200 null application/json; charset=utf-8 2544.3178ms
2025-12-17 18:04:54.479 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7185/api/admin/products/0b39204a-0bdb-47e8-a69b-53874b2f3d32 - null null
2025-12-17 18:04:54.482 +02:00 [INF] CORS policy execution successful.
2025-12-17 18:04:54.485 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7185/api/admin/products/0b39204a-0bdb-47e8-a69b-53874b2f3d32 - 204 null null 5.3259ms
2025-12-17 18:04:54.487 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7185/api/admin/products/0b39204a-0bdb-47e8-a69b-53874b2f3d32 - application/json 56
2025-12-17 18:04:54.492 +02:00 [INF] CORS policy execution successful.
2025-12-17 18:04:54.495 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.UpdateProduct (TwinsFashionApi)'
2025-12-17 18:04:54.510 +02:00 [INF] Route matched with {action = "UpdateProduct", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(System.Guid, TwinsFashionApi.Models.AdminUpdateProductRequest) on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 18:04:54.736 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__productId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [p1].[Id], [p1].[CategoryId], [p1].[ColorId], [p1].[Description], [p1].[Name], [p1].[Price], [p1].[Quantity], [p1].[SubCategoryId], [s0].[ProductId], [s0].[SizeId], [s0].[Id], [s0].[Name]
FROM (
    SELECT TOP(1) [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId]
    FROM [Products] AS [p]
    WHERE [p].[Id] = @__productId_0
) AS [p1]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s].[Id], [s].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s] ON [p0].[SizeId] = [s].[Id]
) AS [s0] ON [p1].[Id] = [s0].[ProductId]
ORDER BY [p1].[Id], [s0].[ProductId], [s0].[SizeId]
2025-12-17 18:04:54.766 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__subCategoryId_Value_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CategoryId], [s].[Name]
FROM [SubCategories] AS [s]
WHERE [s].[Id] = @__subCategoryId_Value_0
2025-12-17 18:04:54.958 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [SubCategoryId] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-12-17 18:04:54.979 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-17 18:04:54.982 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.UpdateProduct (TwinsFashionApi) in 469.5977ms
2025-12-17 18:04:54.984 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.UpdateProduct (TwinsFashionApi)'
2025-12-17 18:04:54.986 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7185/api/admin/products/0b39204a-0bdb-47e8-a69b-53874b2f3d32 - 200 null application/json; charset=utf-8 499.0146ms
2025-12-17 18:04:54.990 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - null null
2025-12-17 18:04:54.990 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/categories - null null
2025-12-17 18:04:54.990 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/subcategories - null null
2025-12-17 18:04:54.990 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/colors - null null
2025-12-17 18:04:54.990 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/admin/sizes - null null
2025-12-17 18:04:54.993 +02:00 [INF] CORS policy execution successful.
2025-12-17 18:04:54.995 +02:00 [INF] CORS policy execution successful.
2025-12-17 18:04:54.998 +02:00 [INF] CORS policy execution successful.
2025-12-17 18:04:55.000 +02:00 [INF] CORS policy execution successful.
2025-12-17 18:04:55.003 +02:00 [INF] CORS policy execution successful.
2025-12-17 18:04:55.004 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 18:04:55.004 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 18:04:55.005 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 18:04:55.006 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 18:04:55.007 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 18:04:55.008 +02:00 [INF] Route matched with {action = "GetCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 18:04:55.009 +02:00 [INF] Route matched with {action = "GetDashboardProducts", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboardProducts() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 18:04:55.010 +02:00 [INF] Route matched with {action = "GetSubCategories", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubCategories() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 18:04:55.011 +02:00 [INF] Route matched with {action = "GetColors", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetColors() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 18:04:55.012 +02:00 [INF] Route matched with {action = "GetSizes", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSizes() on controller TwinsFashionApi.Controllers.AdminController (TwinsFashionApi).
2025-12-17 18:04:55.029 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Categories] AS [c]
2025-12-17 18:04:55.032 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Category, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.CategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 18:04:55.034 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi) in 20.1156ms
2025-12-17 18:04:55.036 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetCategories (TwinsFashionApi)'
2025-12-17 18:04:55.037 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CategoryId], [s].[Name], [c].[Id], [c].[Name]
FROM [SubCategories] AS [s]
INNER JOIN [Categories] AS [c] ON [s].[CategoryId] = [c].[Id]
2025-12-17 18:04:55.038 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/categories - 200 null application/json; charset=utf-8 47.7389ms
2025-12-17 18:04:55.041 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Name]
FROM [Sizes] AS [s]
2025-12-17 18:04:55.043 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.SubCategory, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.SubCategoryViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 18:04:55.047 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Colors] AS [c]
2025-12-17 18:04:55.048 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+IEnumerableWhereIterator`1[[TwinsFashion.Domain.Models.SizeDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 18:04:55.049 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi) in 30.7578ms
2025-12-17 18:04:55.051 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[TwinsFashion.Data.Models.Color, TwinsFashion.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TwinsFashionApi.Models.ColorViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 18:04:55.053 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi) in 31.2733ms
2025-12-17 18:04:55.054 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [s].[Name] = N'Кожени якета' THEN 0
    ELSE 1
END, [s].[Name], [p].[Name], [p].[Id], [s].[Id], [c].[Id], [c0].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-12-17 18:04:55.054 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSubCategories (TwinsFashionApi)'
2025-12-17 18:04:55.056 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi) in 35.594ms
2025-12-17 18:04:55.057 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetSizes (TwinsFashionApi)'
2025-12-17 18:04:55.061 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/subcategories - 200 null application/json; charset=utf-8 70.5187ms
2025-12-17 18:04:55.062 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetColors (TwinsFashionApi)'
2025-12-17 18:04:55.064 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/sizes - 200 null application/json; charset=utf-8 73.403ms
2025-12-17 18:04:55.068 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/colors - 200 null application/json; charset=utf-8 77.6419ms
2025-12-17 18:04:55.074 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashionApi.Models.AdminProductViewModel, TwinsFashionApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 18:04:55.082 +02:00 [INF] Executed action TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi) in 66.1154ms
2025-12-17 18:04:55.083 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.AdminController.GetDashboardProducts (TwinsFashionApi)'
2025-12-17 18:04:55.085 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/admin/dashboard/products - 200 null application/json; charset=utf-8 95.1292ms
2025-12-17 18:05:03.931 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/all - null null
2025-12-17 18:05:03.935 +02:00 [INF] CORS policy execution successful.
2025-12-17 18:05:03.936 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-12-17 18:05:03.942 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TwinsFashion.Domain.Models.ProductDto]]] GetAll() on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-12-17 18:05:03.969 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CategoryId], [p].[ColorId], [p].[Description], [p].[Name], [p].[Price], [p].[Quantity], [p].[SubCategoryId], [c].[Id], [c].[Name], [c0].[Id], [c0].[Name], [s].[Id], [i].[Id], [i].[IsCover], [i].[ProductId], [i].[Url], [s1].[ProductId], [s1].[SizeId], [s1].[Id], [s1].[Name], [s].[CategoryId], [s].[Name]
FROM [Products] AS [p]
INNER JOIN [SubCategories] AS [s] ON [p].[SubCategoryId] = [s].[Id]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
INNER JOIN [Colors] AS [c0] ON [p].[ColorId] = [c0].[Id]
LEFT JOIN [Images] AS [i] ON [p].[Id] = [i].[ProductId]
LEFT JOIN (
    SELECT [p0].[ProductId], [p0].[SizeId], [s0].[Id], [s0].[Name]
    FROM [ProductSize] AS [p0]
    INNER JOIN [Sizes] AS [s0] ON [p0].[SizeId] = [s0].[Id]
) AS [s1] ON [p].[Id] = [s1].[ProductId]
ORDER BY CASE
    WHEN [s].[Name] = N'Кожени якета' THEN 0
    ELSE 1
END, [s].[Name], [p].[Name], [p].[Id], [s].[Id], [c].[Id], [c0].[Id], [i].[Id], [s1].[ProductId], [s1].[SizeId]
2025-12-17 18:05:03.986 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+IEnumerableWhereIterator`1[[TwinsFashion.Domain.Models.ProductDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 18:05:03.999 +02:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi) in 55.2593ms
2025-12-17 18:05:04.001 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-12-17 18:05:04.003 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/all - 200 null application/json; charset=utf-8 71.7627ms
2025-12-17 18:05:14.069 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7185/api/products/all - null null
2025-12-17 18:05:14.072 +02:00 [INF] CORS policy execution successful.
2025-12-17 18:05:14.073 +02:00 [INF] Executing endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-12-17 18:05:14.075 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TwinsFashion.Domain.Models.ProductDto]]] GetAll() on controller TwinsFashionApi.Controllers.ProductsController (TwinsFashionApi).
2025-12-17 18:05:14.078 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[TwinsFashion.Domain.Models.ProductDto, TwinsFashion.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 18:05:14.081 +02:00 [INF] Executed action TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi) in 3.4721ms
2025-12-17 18:05:14.082 +02:00 [INF] Executed endpoint 'TwinsFashionApi.Controllers.ProductsController.GetAll (TwinsFashionApi)'
2025-12-17 18:05:14.084 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7185/api/products/all - 200 null application/json; charset=utf-8 14.9886ms
